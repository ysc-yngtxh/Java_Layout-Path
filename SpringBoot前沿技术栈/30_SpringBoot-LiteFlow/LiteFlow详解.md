

https://liteflow.cc/
## 规则区别

LiteFlow和Flowable不一样，LiteFlow专注于逻辑规则而Flowable是流程规则。

首先我想明确下规则引擎的定义，因为很多小伙伴容易把规则引擎和流程引擎的概念混在一起。

简单来说就是，规则引擎主要解决易变逻辑和业务耦合的问题，规则驱动逻辑。
以前项目内写死在代码里的逻辑用规则引擎可以提出来，随时热变更。

而流程引擎实现了将多个业务参与者之间按照某种预定义的规则进行流转，通常需要涉及到角色信息。

简单来说就是，流程引擎主要解决业务在不同角色之间的流转问题，如请假流程，审批流程，往往要经过多个角色。规则驱动角色流转。

## LiteFlow 使用场景
LiteFlow 是一种轻量级的工作流引擎，是由Baidu 开源的。由于 LiteFlow 的轻量级特性以及高可定制性，它可以被广泛应用于各种场景，例如：
1. 业务流程审批：企业中常见的各种审批流程，如请假、加班、报销、采购等，可以使用LiteFlow 进行快速开发和部署。
2. 订单处理：电商网站和其他交易平台的订单处理流程，可以使用 LiteFlow 进行流程管控和监管，同时也能够快速响应业务和用户需求的变化。
3. 数据处理：在数据平台中，数据的流动和处理需要经历一系列的流程，LiteFlow 可以用于管控和优化这些数据流程。
4. 微服务编排：在分布式系统中，微服务的管理、编排与监控涉及到多个服务之间的依赖关系，使用 LiteFlow 可以实现服务的自动化调用和管理，提高系统的稳定性和可维护性。
5. 智能化流程管理：如需在产品开发过程中，对多个任务进行规划、分配和管理，可以使用 LiteFlow 实现流程的自动调度和优化最终提高开发效率和产品质量。

### 上下文透传
概念

在执行器执行流程时会分配数据上下文实例给这个请求。不同请求的数据上下文实例是完全隔离的。里面存放着此请求所有的用户数据。
不同的组件之间是不传递参数的，所有的数据交互都是通过这个数据上下文来实现的。
意思是说，组件定义的时候就是固定的方法执行比如public void process();这个方法，里面是固定的实现，你无法进行传参进去，那正常的流程中，我执行玩这个节点，到下一个节点要根据上面的节点执行过的数据，那咋办？

所以LiteFlow设计是用线程上下文进行数据透传，一旦在数据上下文中放入数据，整个链路中的任一节点都是可以取到。

LiteFlow在新版本中支持了多上下文，在执行的时候同时初始化你传入的多个上下文。在组件里也可以根据class类型很方便的拿到。
而官方也是推荐使用自己实现上下文，不要用默认的数据上下文DefaultContext，因为默认的存在一下弱引用类型参数，无法满足实际中各个业务的使用场景。

### 不适合的场景

它不适合做角色任务之间的流转，类似于审批流，A审批完应该是B审批，然后再流转到C角色。


笔记未做完，待续～





